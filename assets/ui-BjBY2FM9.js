import{R as b,r as n}from"./vendor-DhIsQial.js";var f={exports:{}},d={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g;function J(){if(g)return d;g=1;var i=Symbol.for("react.transitional.element"),m=Symbol.for("react.fragment");function o(u,e,r){var l=null;if(r!==void 0&&(l=""+r),e.key!==void 0&&(l=""+e.key),"key"in e){r={};for(var t in e)t!=="key"&&(r[t]=e[t])}else r=e;return e=r.ref,{$$typeof:i,type:u,key:l,ref:e!==void 0?e:null,props:r}}return d.Fragment=m,d.jsx=o,d.jsxs=o,d}var k;function M(){return k||(k=1,f.exports=J()),f.exports}var a=M();const q=b.memo(({src:i,alt:m,className:o="",width:u,height:e,lazy:r=!0,placeholder:l=!0,priority:t=!1,sizes:h,srcSet:I,webpSrc:c,responsiveSizes:v,...L})=>{const[p,w]=n.useState(!1),[R,C]=n.useState(!1),[j,E]=n.useState(!1),N=n.useRef(null),x=n.useRef(null);n.useEffect(()=>{if(t&&i){const s=document.createElement("link");return s.rel="preload",s.as="image",s.href=i,c&&(s.href=c,s.type="image/webp"),document.head.appendChild(s),()=>{document.head.contains(s)&&document.head.removeChild(s)}}},[t,i,c]),n.useEffect(()=>{if(!r||t){E(!0);return}const s=new IntersectionObserver(([T])=>{T.isIntersecting&&(E(!0),s.disconnect())},{threshold:.1,rootMargin:t?"300px":"100px"});return x.current&&s.observe(x.current),()=>s.disconnect()},[r,t]);const _=n.useCallback(()=>{w(!0)},[]),$=n.useCallback(()=>{C(!0)},[]);return a.jsxs("div",{ref:x,className:"relative overflow-hidden",style:{aspectRatio:u&&e&&o.includes("aspect-")?`${u}/${e}`:void 0,width:"100%",height:"100%"},children:[l&&!p&&j&&!R&&a.jsx("div",{className:`absolute inset-0 bg-gray-200 ${t?"animate-shimmer-fast":"animate-shimmer"}`}),j&&a.jsxs("picture",{children:[c&&a.jsx("source",{srcSet:c,type:"image/webp",sizes:h||v}),a.jsx("img",{ref:N,src:i,alt:m,width:u,height:e,onLoad:_,onError:$,loading:t?"eager":r?"lazy":"eager",decoding:"async",fetchPriority:t?"high":"auto",sizes:h||v||"(max-width: 768px) 100vw, (max-width: 1200px) 80vw, 1200px",srcSet:I,className:`transition-all duration-700 ease-out ${p?"opacity-100 scale-100":"opacity-0 scale-102"} ${o}`,...L})]}),R&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{className:"text-gray-500 text-xs",children:"Image unavailable"})]})})]})});q.displayName="OptimizedImage";export{q as O,a as j};
