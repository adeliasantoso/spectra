import{j as e}from"./ui-Ch8TnjMN.js";import{e as j,r as i,L as f}from"./vendor-DhIsQial.js";import{N as d,F as x}from"./Footer-CuKq51hs.js";const w=()=>{const l=j(),[t,m]=i.useState(null),[N,h]=i.useState(new Set),c=i.useRef({});i.useEffect(()=>{const s=localStorage.getItem("lastOrder");if(console.log("LastOrder from localStorage:",s),!s){console.log("No order found in localStorage, redirecting to home"),setTimeout(()=>l("/"),2e3);return}try{const a=JSON.parse(s);console.log("Parsed order data:",a),m(a)}catch(a){console.error("Error parsing order data:",a),setTimeout(()=>l("/"),2e3)}},[l]),i.useEffect(()=>{const s={threshold:.2,rootMargin:"-50px 0px"},a=new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&h(g=>new Set(g).add(o.target.id))})},s);return Object.values(c.current).forEach(n=>{n&&a.observe(n)}),()=>a.disconnect()},[]);const u=s=>new Date(s).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),r=s=>typeof s=="number"?s.toFixed(2):"0.00",p=()=>{const s=new Date;return s.setDate(s.getDate()+3),s.toLocaleDateString("en-GB",{weekday:"long",month:"long",day:"numeric"})};return t?e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(d,{}),e.jsx("section",{id:"success-main",ref:s=>c.current["success-main"]=s,className:"pt-24 md:pt-32 pb-12 md:pb-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 md:px-8 lg:px-12",children:[e.jsxs("div",{className:"text-center mb-12 animate-fade-up opacity-100",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-light text-black mb-4",children:"Order Confirmed!"}),e.jsxs("p",{className:"text-lg text-gray-600 mb-2",children:["Thank you for your purchase, ",t.shippingInfo.firstName,"!"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Order #",t.orderNumber," • Placed on ",u(t.orderDate)]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 animate-fade-up opacity-100",style:{animationDelay:"200ms"},children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-medium text-black mb-6",children:"Order Summary"}),e.jsx("div",{className:"space-y-4",children:t.items.map(s=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:s.images?s.images[0]:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-black",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",s.quantity]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["£",r(s.price)," each"]})]}),e.jsxs("p",{className:"font-medium",children:["£",(parseFloat(r(s.price))*s.quantity).toFixed(2)]})]},s.id))}),e.jsx("hr",{className:"my-6"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["£",r(t.totals.subtotal)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping"}),e.jsx("span",{className:"font-medium text-green-600",children:"Free"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tax (20%)"}),e.jsxs("span",{className:"font-medium",children:["£",r(t.totals.tax)]})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"flex justify-between text-lg font-medium",children:[e.jsx("span",{children:"Total Paid"}),e.jsxs("span",{children:["£",r(t.totals.total)]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-black mb-4",children:"What happens next?"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white flex items-center justify-center text-xs font-medium mt-0.5",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Order Processing"}),e.jsx("p",{className:"text-gray-600",children:"We'll prepare your items for shipment within 24 hours."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white flex items-center justify-center text-xs font-medium mt-0.5",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Shipping Notification"}),e.jsx("p",{className:"text-gray-600",children:"You'll receive a tracking number via email once your order ships."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white flex items-center justify-center text-xs font-medium mt-0.5",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Delivery"}),e.jsxs("p",{className:"text-gray-600",children:["Expected delivery: ",e.jsx("span",{className:"font-medium",children:p()})]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-black mb-4",children:"Shipping Address"}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("p",{className:"font-medium",children:[t.shippingInfo.firstName," ",t.shippingInfo.lastName]}),e.jsx("p",{children:t.shippingInfo.address}),e.jsxs("p",{children:[t.shippingInfo.city,", ",t.shippingInfo.postalCode]}),e.jsx("p",{children:t.shippingInfo.country}),e.jsx("p",{className:"pt-2",children:t.shippingInfo.email}),e.jsx("p",{children:t.shippingInfo.phone})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-black mb-4",children:"Payment Method"}),e.jsx("div",{className:"text-sm text-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-8 bg-gray-800 rounded flex items-center justify-center",children:e.jsxs("svg",{className:"w-6 h-4 text-white",viewBox:"0 0 24 16",fill:"currentColor",children:[e.jsx("rect",{x:"0",y:"0",width:"24",height:"16",rx:"2"}),e.jsx("rect",{x:"2",y:"3",width:"20",height:"2",fill:"white"}),e.jsx("rect",{x:"2",y:"8",width:"8",height:"1",fill:"white"})]})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Card ending in ",t.paymentInfo.cardLast4]}),e.jsx("p",{className:"text-gray-600",children:t.paymentInfo.cardName})]})]})})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-black mb-4",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Have questions about your order? Our customer support team is here to help."}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{className:"text-gray-700",children:"support@spectravision.com"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("span",{className:"text-gray-700",children:"+44 20 7946 0958"})]})]})]})]})]}),e.jsxs("div",{className:"text-center mt-12 space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center transition-all duration-700 delay-400 animate-fade-up opacity-100",children:[e.jsx(f,{to:"/shop",className:"inline-block bg-black text-white px-8 py-3 font-medium hover:bg-gray-800 transition-colors duration-200 rounded-lg",children:"Continue Shopping"}),e.jsx("button",{onClick:()=>window.print(),className:"inline-block border-2 border-gray-300 text-gray-700 px-8 py-3 font-medium hover:border-gray-400 hover:bg-gray-50 transition-colors duration-200 rounded-lg",children:"Print Receipt"})]}),e.jsx("div",{className:"mt-12 text-center transition-all duration-700 delay-600 animate-fade-up opacity-100",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 inline-block",children:[e.jsx("h4",{className:"font-medium text-black mb-2",children:"Track Your Order"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"You can track your order status using your order number:"}),e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("code",{className:"bg-white px-4 py-2 rounded border text-sm font-mono",children:t.orderNumber}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.orderNumber)},className:"text-gray-500 hover:text-black transition-colors",title:"Copy order number",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})}),e.jsxs("div",{className:"mt-8 text-center transition-all duration-700 delay-700 animate-fade-up opacity-100",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Love Spectra 1.0? Share your excitement with friends!"}),e.jsxs("div",{className:"flex justify-center space-x-6",children:[e.jsx("button",{className:"text-gray-400 hover:text-pink-500 transition-colors group",children:e.jsx("svg",{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-200",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),e.jsx("button",{className:"text-gray-400 hover:text-black transition-colors group",children:e.jsx("svg",{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-200",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})})}),e.jsx("button",{className:"text-gray-400 hover:text-blue-600 transition-colors group",children:e.jsx("svg",{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-200",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})})]})]})]})}),e.jsx(x,{})]}):e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(d,{}),e.jsx("div",{className:"flex items-center justify-center min-h-[60vh] pt-32",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-gray-300 border-t-black rounded-full mx-auto mb-6"}),e.jsx("h2",{className:"text-xl font-medium text-gray-800 mb-3",children:"Loading order details..."}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Please wait while we retrieve your order information."}),e.jsx("p",{className:"text-gray-500 text-xs mt-4",children:"If this takes too long, you'll be redirected to the homepage."})]})}),e.jsx(x,{})]})};export{w as default};
